/* MCQ Ultra-Pro v4.8.0 CSS */
*, *::before, *::after { box-sizing: border-box; }
body { margin:0; font-family:system-ui,sans-serif; background:#f4f5f7; color:#111; min-height:100vh; }

/* Themes */
body.theme-dark { background:#111827; color:#f9fafb; }
body.theme-night { background:#000; color:#eee; }
body.theme-calm { background:#e8f5e9; color:#102027; }

/* Focus Mode */
body.focus-mode .top-bar, body.focus-mode .tabs, body.focus-mode .row-controls,
body.focus-mode .notes-area-container, body.focus-mode .stats-row, 
body.focus-mode .floating-update-btn { display:none!important; }
body.focus-mode .app { max-width:800px; padding-top:2rem; }
body.focus-mode #btnExitFocus { display:inline-block!important; }

/* Layout */
.app { max-width:1120px; margin:0 auto; padding:0.5rem; padding-bottom:4rem; }
.top-bar { background:#fff; padding:0.5rem; border-radius:0.5rem; display:flex; justify-content:space-between; margin-bottom:0.5rem; box-shadow:0 1px 2px rgba(0,0,0,0.05); }
body.theme-dark .top-bar { background:#1f2937; }
.chips { display:flex; gap:0.5rem; }
.chip { border-radius:99px; padding:2px 8px; font-size:0.75rem; background:#eee; border:1px solid #ccc; }

.tabs { display:flex; gap:0.25rem; overflow-x:auto; padding-bottom:0.25rem; margin-bottom:0.5rem; }
.tab-button { background:#eee; border:1px solid #ccc; border-radius:99px; padding:4px 12px; font-size:0.85rem; cursor:pointer; white-space:nowrap; }
.tab-button.active { background:#222; color:#fff; border-color:#222; }
body.theme-dark .tab-button.active { background:#fff; color:#000; }

.tab-content { display:none; }
.tab-content.active { display:block; }

.card { background:#fff; padding:1rem; border-radius:0.5rem; margin-bottom:0.5rem; box-shadow:0 1px 2px rgba(0,0,0,0.05); }
body.theme-dark .card { background:#020617; border:1px solid #333; }

.row-controls { display:flex; flex-wrap:wrap; gap:1rem; align-items:flex-end; margin-bottom:0.5rem; }

/* Elements */
input, select, button, textarea { font-size:0.9rem; padding:4px 8px; border-radius:4px; border:1px solid #ccc; }
body.theme-dark input, body.theme-dark select, body.theme-dark textarea, body.theme-dark button { background:#1f2937; color:#fff; border-color:#444; }
button { cursor:pointer; background:#f0f0f0; }
button.primary { background:#222; color:#fff; border-color:#222; }
button.danger { color:#d32f2f; border-color:#d32f2f; }
button.ghost { background:none; border:none; color:#555; text-decoration:underline; }

/* Question */
.question-panel { font-size:1rem; line-height:1.5; margin-top:1rem; }
.q-text { font-weight:500; margin-bottom:1rem; }
.choice-container { display:flex; gap:0.5rem; margin-bottom:0.5rem; align-items:flex-start; }
.choice { flex:1; background:#f9f9f9; padding:0.5rem; border-radius:4px; cursor:pointer; border:1px solid transparent; }
.choice:hover { background:#eee; }
body.theme-dark .choice { background:#1f2937; }
.choice.correct.show { background:#d1fae5; border-color:#10b981; }
body.theme-dark .choice.correct.show { background:#064e3b; }
.choice.wrong.show { background:#fee2e2; border-color:#ef4444; }
body.theme-dark .choice.wrong.show { background:#7f1d1d; }
.choice.strikethrough { text-decoration:line-through; opacity:0.6; background:#e5e5e5; }

.feedback-panel { margin-top:1rem; padding:1rem; background:#f0fdf4; border-left:4px solid #16a34a; display:none; }
.feedback-panel.visible { display:block; }
body.theme-dark .feedback-panel { background:#064e3b; }

.notes-textarea { width:100%; min-height:60px; margin-top:0.5rem; background:#fffbeb; border-color:#fcd34d; color:#000; }

/* Table */
.table-wrapper { overflow-x:auto; max-height:60vh; }
.q-table { width:100%; border-collapse:collapse; font-size:0.85rem; }
.q-table th { text-align:left; padding:8px; background:#f3f4f6; position:sticky; top:0; cursor:pointer; user-select:none; }
.q-table th:hover { background:#e5e7eb; }
.q-table td { padding:8px; border-bottom:1px solid #eee; }
body.theme-dark .q-table th { background:#374151; }
body.theme-dark .q-table td { border-bottom-color:#374151; }

/* Floating Btn */
.floating-update-btn { position:fixed; bottom:20px; left:20px; z-index:9999; background:#000; color:#fff; border-radius:50px; padding:10px 15px; opacity:0.8; }

/* Modal */
.modal { position:fixed; inset:0; z-index:1000; display:flex; justify-content:center; align-items:center; }
.modal.hidden { display:none; }
.modal-backdrop { position:absolute; inset:0; background:rgba(0,0,0,0.5); }
.modal-body { position:relative; background:#fff; padding:1.5rem; border-radius:8px; width:90%; max-width:600px; max-height:90vh; overflow-y:auto; }
body.theme-dark .modal-body { background:#1f2937; }
.modal-content label { display:block; margin-bottom:0.5rem; font-weight:bold; font-size:0.8rem; }
.modal-content textarea, .modal-content input { width:100%; margin-bottom:0.5rem; }
